---
title: "Choose your project"
institute: "UNSW Data Science Hub"
date: "21-11-2022"
output:
  xaringan::moon_reader:
    css: [xaringan-themer.css, "css/footer.css"]
    lib_dir: libs
    nature:
      countdown: 60000
      highlightStyle: solarized-dark
      highlightLines: true
      countIncrementalSlides: true
editor_options: 
  chunk_output_type: console
---
layout: true

<div class="my-footer"><span>UNSW Data Science Hub / <a href='https://www.unsw.edu.au/research/udash'>uDASH</a></span></div>

<!-- this adds the link footer to all slides, depends on my-footer class in css-->

```{r xaringan-logo, echo=FALSE}
xaringanExtra::use_logo(
  image_url = "images/uDASH-logo.jpg",
  position = xaringanExtra::css_position(top = "1em", right = "1em")
)
```

```{r setup, include=FALSE}
# https://www.garrickadenbuie.com/blog/decouple-code-and-output-in-xaringan-slides/
knitr::opts_chunk$set(fig.showtext=TRUE,fig.dim=c(4.8, 4.5), fig.retina=2, out.width="100%")
```

```{r packages, include=FALSE}
library(fontawesome)
require(dplyr)
require(ggplot2)
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_solarized_light(
#style_mono_accent(
#  base_color = "#1c5253",
  header_font_google = google_font("Roboto Slab"),
  text_font_google   = google_font("Roboto", "300", "300i"),
  code_font_google   = google_font("Roboto Mono"),
  code_font_size = '0.7rem'
)
# for ggplot2
theme_set(theme_xaringan())
```




---

class: inverse, center, middle

# Socioeconomics: Spanish income data

> background?

***???***

---

## Income ...

Synthetic data on income and other related variables for Spanish provinces.

- Variables of interest: 
  - income, 
  - age, group and education level
- Other variables: 
  - population size by province and education level

---

## Income ... Data

Data available as part of a _R_ library


```{r message=FALSE}
library(sae)
data("incomedata")
data("sizeprov")
data("sizeprovedu")
```

---

## Income ... Cleaning and transformation

Calculate new variables or reclassify exising variables

```{r}
povertyline <- 0.6 * median(incomedata$income)
incomedata %>% mutate(poor=as.integer(income<povertyline))
```

---

## Income ...  Explore

Boxplots of variables


.pull-left[
```{r spa-eda, eval=FALSE}
ggplot(incomedata) +
  geom_boxplot(aes(y=income, 
                   x=factor(age),
                   group=factor(age),
                   color=factor(age))) +
  xlab("Age group") +
  ylab("Income") + 
  theme(legend.position='none')
```
]

.pull-right[
```{r spa-eda-out, ref.label="spa-eda", echo=FALSE, warning=FALSE, message=FALSE}
```
]

---

## Income ... Model

???

```{r }
model <- lm(income ~ age + provlab, data=incomedata)
summary(model)
```

---

## Income ... Visualise

???


---


# Thanks!

[`r fa(name = "twitter")` @uDASH_UNSW](https://twitter.com/uDASH_UNSW)

[`r fa(name = "link")` //www.unsw.edu.au/research/udash](https://www.unsw.edu.au/research/udash)

[`r fa(name = "paper-plane")` uDASH@unsw.edu.au](mailto:uDASH@unsw.edu.au )

